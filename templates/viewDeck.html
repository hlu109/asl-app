{% extends 'base.html' %} {% block head %}
<title>View cards in deck</title>
{% endblock %} {% block body %}
<header>
  <!-- back button to go to all decks -->
  <form action="/decks">
    <button type="submit" class="back_button"><i class="fa-solid fa-house"></i> Home</button>
  </form>

  <!-- profile button -->
  <!-- TODO: add popup; also maybe move this button to a base template or header -->
  <button id="profile_button" type="submit" style="float: right;">
    <i class="fa-solid fa-user"></i> {{email}}
  </button>
</header>

<div class="content">
  <h1>{{deck_name}}</h1>

  <div class="create_new_header">

    <div style="float: left; margin-top: 11px;">
      <!-- vertical-align: bottom is not working -->
      <!-- kinda janky that we have to manually hardcode it -->
      <form action="/decks/{{deck_name}}/practice">
        <button type="submit" id="practice_button">
          <i class="fa-solid fa-circle-play"></i> 
          Practice
        </button>
      </form>
    </div>

    <div style="float: right; text-align: left;">
      Add new card:
      <form action="/decks/{{deck_name}}/select_term" method="POST">
        <input type="text" name="new_term" id="new_term" placeholder="English term"/>
        <button class="icon_button" type="submit">
          <i class="fa-solid fa-plus"></i>
        </button>
      </form>
    </div>
  </div>

  <div class="section">
    <hr>
    <table>
      <tr>
        <th> Cards in this deck </th>
        <th style="width:5px"> </th>
        <!-- <th>Practice</th> -->
      </tr>
      {% for card in cards %}
      <tr>
        <td>
          <form action="/decks/{{deck_name}}/{{card.english}}">
            <button class="card_entry" type="submit">
              <span class="card_entry_term">
                {{ card.english }}
              </span>
              
              <div class="video_crop_container">
                <video class="video_crop" width="200" muted onmouseover="this.play()" onmouseout="this.pause()">
                  <source src="{{card.media[0].link}}" type="video/mp4" />
                </video>  
              </div>
            </button>
          </form>
        </td>
        <td style="vertical-align: top;">
          <!-- <form action="/decks/{{deck_name}}/{{card.english}}"> -->
            <button type="submit"><i class="fa-solid fa-ellipsis-vertical"></i></button>
          <!-- </form> -->
        </td>
      </tr>
      {% endfor %}
    </table>

  </div>
</div>

{% endblock %}

