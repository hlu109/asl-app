{% extends 'base.html' %} {% block head %}
<title>Deck View</title>
{% endblock %} {% block body %}
<header>
  <!-- back button to log-in page -->
  <form action="/logout">
    <button type="submit" class="back_button">
      <i class="fa-solid fa-right-from-bracket fa-rotate-180"></i>
    </button>
  </form>

  <!-- profile button -->
  <!-- TODO: add popup; also maybe move this button to a base template or header -->
  <button id="profile_button" type="submit" style="float: right;">
    <i class="fa-solid fa-user"></i> {{email}}
  </button>
</header>

<div class="content">
  <h1>Decks:</h1>

  <div class="section">
    <div class="create_new_header">
      <div class="create_form_outer">
        <div class="create_form_inner">
          Create deck:
          <form action="/decks" method="POST">
            <input class="add_entry" type="text" name="new_deck_name"
              id="new_deck_name" placeholder="Deck name" />
            <button class="icon_button" type="submit">
              <i class="fa-solid fa-plus"></i>
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="section">
    <hr>
    <table>
      <tr>
        <th>Name</th>
        <th style="width: 75px;">Actions</th>
        <!-- TODO: the action buttons get weirdly wrapped if the window is too narrow -->
      </tr>
      {% for deck in decks %}
      <tr>

        <td>
          <form action="/decks/{{deck.name}}">
            <button class="deck_entry" type="submit">
              {{ deck.name }}
              <br>
              <small>
                <!-- &nbsp; &nbsp;  -->
                {{ deck.size }}
                {% if deck.size != 1 %}
                cards
                {% else %}
                card
                {% endif %}
              </small>

            </button>
          </form>
        </td>
        <!-- <td style="text-align: center">{{ deck.size }}</td> -->
        <td>
          <form action="/decks/{{deck.name}}">
            <button type="submit" title="View deck" class="icon_button"
              style="float: left;">
              <i class="fa-regular fa-eye"></i>
            </button>
          </form>

          <form action="/decks/{{deck.name}}/practice">
            <button type="submit" title="Practice" class="icon_button"
              style="float: left;">
              <i class="fa-solid fa-circle-play"></i>
            </button>
          </form>

          <!-- <form action=""> -->
          <button type="submit" class="menu_button" style="float: left;"><i
              class="fa-solid fa-ellipsis-vertical"></i></button>
          <!-- </form> -->
        </td>
      </tr>
      {% endfor %}
    </table>
  </div>
</div>
{% endblock %}
